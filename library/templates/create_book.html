{% extends "base.html" %}

{% block content %}
<div class="form-container">
    <h2>üìö Agregar Nuevo Libro</h2>
    
    <form method="post" class="form-container-content">
        {% csrf_token %}
        
        <div class="form-group">
            <label for="{{ form.title.id_for_label }}">T√≠tulo del Libro:</label>
            {{ form.title }}
            {% if form.title.errors %}
                <span class="form-error">{{ form.title.errors }}</span>
            {% endif %}
        </div>
        
        <div class="form-group">
            <label for="{{ form.author.id_for_label }}">Autor:</label>
            {{ form.author }}
            {% if form.author.errors %}
                <span class="form-error">{{ form.author.errors }}</span>
            {% endif %}
        </div>
        
        <div class="form-group">
            <label for="{{ form.genre.id_for_label }}">G√©nero:</label>
            {{ form.genre }}
            {% if form.genre.errors %}
                <span class="form-error">{{ form.genre.errors }}</span>
            {% endif %}
            <small style="color: #94a3b8; display: block; margin-top: 0.5rem;">
                ¬øNo existe el g√©nero? <a href="{% url 'library:create_genre' %}" style="color: #6366f1; font-weight: 600;">Crear uno</a>
            </small>
        </div>
        
        <div class="form-group">
            <label for="{{ form.publication_year.id_for_label }}">A√±o de Publicaci√≥n:</label>
            {{ form.publication_year }}
            {% if form.publication_year.errors %}
                <span class="form-error">{{ form.publication_year.errors }}</span>
            {% endif %}
        </div>
        
        <div class="form-group form-group-checkbox">
            <label for="{{ form.available.id_for_label }}">
                {{ form.available }}
                ¬øEl libro est√° disponible?
            </label>
            {% if form.available.errors %}
                <span class="form-error">{{ form.available.errors }}</span>
            {% endif %}
        </div>
        
        <div class="form-buttons">
            <button type="submit" class="btn">üìñ Crear Libro</button>
            <a href="{% url 'library:book_list' %}" class="btn-secondary">‚Üê Cancelar</a>
        </div>
    </form>
</div>

{% if messages %}
<script>
{% for message in messages %}
    Swal.fire({
        icon: '{% if message.tags == "success" %}success{% else %}error{% endif %}',
        title: '{{ message }}',
        showConfirmButton: false,
        timer: 2500,
        timerProgressBar: true
    });
{% endfor %}
</script>
{% endif %}
{% endblock %}